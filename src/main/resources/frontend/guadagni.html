<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report Guadagni</title>
    <!-- CSS di Bootstrap e stili personalizzati -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css"> <!-- Assumendo tu abbia uno style.css comune -->
</head>
<body>
<header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <b><a class="navbar-brand" href="/">Portale Autostrade</a></b>
            <a href="/" class="btn btn-outline-light">Torna alla Home</a>
        </div>
    </nav>
</header>

<main class="container mt-4">
    <h1 class="mb-4">Report Guadagni</h1>

    <!-- Card per il guadagno totale -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-secondary text-white">
            <h2 class="card-title h4 mb-0">Guadagno Totale Complessivo</h2>
        </div>
        <div class="card-body">
            <p class="card-text display-4" id="guadagno-totale">
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                Caricamento...
            </p>
        </div>
    </div>

    <!-- Sezione per la ricerca per tratta -->
    <div class="card shadow-sm">
        <div class="card-header">
            <h2 class="card-title h4 mb-0">Ricerca Guadagni per Tratta Specifica</h2>
        </div>
        <div class="card-body">
            <form id="ricerca-tratta-form" class="needs-validation" novalidate>
                <div class="row g-3">
                    <div class="col-md">
                        <label for="casello-ingresso" class="form-label">Casello di Ingresso</label>
                        <select id="casello-ingresso" class="form-select" required>
                            <option value="" selected disabled>Seleziona un casello...</option>
                        </select>
                        <div class="invalid-feedback">Seleziona un casello di ingresso.</div>
                    </div>
                    <div class="col-md">
                        <label for="casello-uscita" class="form-label">Casello di Uscita</label>
                        <select id="casello-uscita" class="form-select" required>
                            <option value="" selected disabled>Seleziona un casello...</option>
                        </select>
                        <div class="invalid-feedback">Seleziona un casello di uscita.</div>
                    </div>
                    <div class="col-md-auto d-flex align-items-end">
                        <button type="submit" class="btn btn-success w-100">Cerca</button>
                    </div>
                </div>
            </form>
        </div>
        <!-- Area per mostrare il risultato della ricerca -->
        <div class="card-footer" id="risultato-tratta" style="display: none;">
            <h5 class="mb-1">Guadagno per la tratta selezionata:</h5>
            <p class="fs-3 fw-bold text-success" id="guadagno-tratta-specifica"></p>
        </div>
    </div>
</main>

<!-- Script essenziali -->
<script src="http://localhost:8080/auth/js/keycloak.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- script (L'ORDINE Ãˆ IMPORTANTE) -->
<script src="auth.js"></script>
<script src="guadagni.js"></script>
</body>
</html>